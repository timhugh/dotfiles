#!/usr/bin/env bash
set -euo pipefail

# TODO: pretty sure mise can provide emsdk

EMSDK_DIR="${HOME}/git/emscripten-core/emsdk"
if [ ! -d "${EMSDK_DIR}" ]; then
  git clone https://github.com/emscripten-core/emsdk.git "${EMSDK_DIR}"
else
  cd "${EMSDK_DIR}"
  git pull
fi

cd "${EMSDK_DIR}"
./emsdk install latest
./emsdk activate latest
