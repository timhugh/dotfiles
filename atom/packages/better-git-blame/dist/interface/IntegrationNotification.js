'use babel';
const initialNotifData = {
    gutters: 0,
    tooltips: 0,
    wasIntegrationDataRetrieved: false,
    wasNotificationShown: false,
};
function getIntegrationNotificationData() {
    const storedNotifData = localStorage.getItem('better-git-blame-integration-notification-data');
    return storedNotifData ? JSON.parse(storedNotifData) : initialNotifData;
}
function saveIntegrationNotificationData(notifData) {
    localStorage.setItem('better-git-blame-integration-notification-data', JSON.stringify(notifData));
}
export function handleGutterShown() {
    trackGutterShown();
}
function trackGutterShown() {
    const notifData = getIntegrationNotificationData();
    notifData.gutters += 1;
    saveIntegrationNotificationData(notifData);
}
export function trackTooltipShown() {
    const notifData = getIntegrationNotificationData();
    notifData.tooltips += 1;
    saveIntegrationNotificationData(notifData);
}
export function checkIntegrationDataRetrieved(pullRequests, issues) {
    const prCount = Array.isArray(pullRequests) ? Object.keys(pullRequests).length : 0;
    const issueCount = Array.isArray(issues) ? Object.keys(issues).length : 0;
    if (prCount > 0 || issueCount > 0) {
        const notifData = getIntegrationNotificationData();
        notifData.wasIntegrationDataRetrieved = true;
        saveIntegrationNotificationData(notifData);
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSW50ZWdyYXRpb25Ob3RpZmljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9saWIvaW50ZXJmYWNlL0ludGVncmF0aW9uTm90aWZpY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQztBQVdaLE1BQU0sZ0JBQWdCLEdBQUc7SUFDdkIsT0FBTyxFQUFFLENBQUM7SUFDVixRQUFRLEVBQUUsQ0FBQztJQUNYLDJCQUEyQixFQUFFLEtBQUs7SUFDbEMsb0JBQW9CLEVBQUUsS0FBSztDQUM1QixDQUFDO0FBRUY7SUFDRSxNQUFNLGVBQWUsR0FBRyxZQUFZLENBQUMsT0FBTyxDQUFDLGdEQUFnRCxDQUFDLENBQUM7SUFDL0YsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxlQUFlLENBQUMsQ0FBQyxDQUFDLENBQUMsZ0JBQWdCLENBQUM7QUFDMUUsQ0FBQztBQUVELHlDQUF5QyxTQUF1QztJQUM5RSxZQUFZLENBQUMsT0FBTyxDQUFDLGdEQUFnRCxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNwRyxDQUFDO0FBRUQsTUFBTTtJQUNKLGdCQUFnQixFQUFFLENBQUM7QUFDckIsQ0FBQztBQUVEO0lBQ0UsTUFBTSxTQUFTLEdBQUcsOEJBQThCLEVBQUUsQ0FBQztJQUNuRCxTQUFTLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQztJQUN2QiwrQkFBK0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3QyxDQUFDO0FBRUQsTUFBTTtJQUNKLE1BQU0sU0FBUyxHQUFHLDhCQUE4QixFQUFFLENBQUM7SUFDbkQsU0FBUyxDQUFDLFFBQVEsSUFBSSxDQUFDLENBQUM7SUFDeEIsK0JBQStCLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDN0MsQ0FBQztBQUVELE1BQU0sd0NBQXdDLFlBQXdCLEVBQUUsTUFBa0I7SUFDeEYsTUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNuRixNQUFNLFVBQVUsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzFFLEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsTUFBTSxTQUFTLEdBQUcsOEJBQThCLEVBQUUsQ0FBQztRQUNuRCxTQUFTLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxDQUFDO1FBQzdDLCtCQUErQixDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQzdDLENBQUM7QUFDSCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG5cbmltcG9ydCAqIGFzIEFuYWx5dGljcyBmcm9tICcuLi9zdGVwc2l6ZS9BbmFseXRpY3MnO1xuXG5pbnRlcmZhY2UgSUludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YSB7XG4gIGd1dHRlcnM6IG51bWJlcjtcbiAgdG9vbHRpcHM6IG51bWJlcjtcbiAgd2FzSW50ZWdyYXRpb25EYXRhUmV0cmlldmVkOiBib29sZWFuO1xuICB3YXNOb3RpZmljYXRpb25TaG93bjogYm9vbGVhbjtcbn1cblxuY29uc3QgaW5pdGlhbE5vdGlmRGF0YSA9IHtcbiAgZ3V0dGVyczogMCxcbiAgdG9vbHRpcHM6IDAsXG4gIHdhc0ludGVncmF0aW9uRGF0YVJldHJpZXZlZDogZmFsc2UsXG4gIHdhc05vdGlmaWNhdGlvblNob3duOiBmYWxzZSxcbn07XG5cbmZ1bmN0aW9uIGdldEludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YSgpOiBJSW50ZWdyYXRpb25Ob3RpZmljYXRpb25EYXRhIHtcbiAgY29uc3Qgc3RvcmVkTm90aWZEYXRhID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2JldHRlci1naXQtYmxhbWUtaW50ZWdyYXRpb24tbm90aWZpY2F0aW9uLWRhdGEnKTtcbiAgcmV0dXJuIHN0b3JlZE5vdGlmRGF0YSA/IEpTT04ucGFyc2Uoc3RvcmVkTm90aWZEYXRhKSA6IGluaXRpYWxOb3RpZkRhdGE7XG59XG5cbmZ1bmN0aW9uIHNhdmVJbnRlZ3JhdGlvbk5vdGlmaWNhdGlvbkRhdGEobm90aWZEYXRhOiBJSW50ZWdyYXRpb25Ob3RpZmljYXRpb25EYXRhKSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdiZXR0ZXItZ2l0LWJsYW1lLWludGVncmF0aW9uLW5vdGlmaWNhdGlvbi1kYXRhJywgSlNPTi5zdHJpbmdpZnkobm90aWZEYXRhKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVHdXR0ZXJTaG93bigpIHtcbiAgdHJhY2tHdXR0ZXJTaG93bigpO1xufVxuXG5mdW5jdGlvbiB0cmFja0d1dHRlclNob3duKCkge1xuICBjb25zdCBub3RpZkRhdGEgPSBnZXRJbnRlZ3JhdGlvbk5vdGlmaWNhdGlvbkRhdGEoKTtcbiAgbm90aWZEYXRhLmd1dHRlcnMgKz0gMTtcbiAgc2F2ZUludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YShub3RpZkRhdGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdHJhY2tUb29sdGlwU2hvd24oKSB7XG4gIGNvbnN0IG5vdGlmRGF0YSA9IGdldEludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YSgpO1xuICBub3RpZkRhdGEudG9vbHRpcHMgKz0gMTtcbiAgc2F2ZUludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YShub3RpZkRhdGEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tJbnRlZ3JhdGlvbkRhdGFSZXRyaWV2ZWQocHVsbFJlcXVlc3RzOiBBcnJheTxhbnk+LCBpc3N1ZXM6IEFycmF5PGFueT4pIHtcbiAgY29uc3QgcHJDb3VudCA9IEFycmF5LmlzQXJyYXkocHVsbFJlcXVlc3RzKSA/IE9iamVjdC5rZXlzKHB1bGxSZXF1ZXN0cykubGVuZ3RoIDogMDtcbiAgY29uc3QgaXNzdWVDb3VudCA9IEFycmF5LmlzQXJyYXkoaXNzdWVzKSA/IE9iamVjdC5rZXlzKGlzc3VlcykubGVuZ3RoIDogMDtcbiAgaWYgKHByQ291bnQgPiAwIHx8IGlzc3VlQ291bnQgPiAwKSB7XG4gICAgY29uc3Qgbm90aWZEYXRhID0gZ2V0SW50ZWdyYXRpb25Ob3RpZmljYXRpb25EYXRhKCk7XG4gICAgbm90aWZEYXRhLndhc0ludGVncmF0aW9uRGF0YVJldHJpZXZlZCA9IHRydWU7XG4gICAgc2F2ZUludGVncmF0aW9uTm90aWZpY2F0aW9uRGF0YShub3RpZkRhdGEpO1xuICB9XG59XG4iXX0=