'use babel';
import React from 'preact-compat';
import moment from 'moment';
import AgeSection from './AgeSection';
import BuildStatus from './BuildStatus';
import SearchInLayer from './SearchInLayer';
import * as ConfigManager from '../ConfigManager';
import * as Analytics from '../stepsize/Analytics';
import * as IntegrationNotification from '../interface/IntegrationNotification';
class BlameTooltip extends React.PureComponent {
    constructor(...props) {
        super(...props);
        Analytics.track('Tooltip shown', { type: 'blame' });
        IntegrationNotification.trackTooltipShown();
    }
    clickLayerSearch() {
        this.props.emitter.emit('clickedSearch');
    }
    mouseEnterLayerSearch() {
        this.props.emitter.emit('mouseEnterLayerSearch');
    }
    mouseLeaveLayerSearch() {
        this.props.emitter.emit('mouseLeaveLayerSearch');
    }
    clickHandler(label) {
        return () => {
            Analytics.track(`Clicked link`, { label });
        };
    }
    render() {
        const commitedDate = moment(this.props.commit.commitedAt).format('D MMM');
        return (React.createElement("div", { className: "layer-tooltip" },
            React.createElement("div", { className: "section" },
                React.createElement("div", { className: "section-icon" },
                    React.createElement("div", { className: "icon icon-git-commit" })),
                React.createElement("div", { className: "section-content" },
                    React.createElement("h1", { className: "section-title" },
                        React.createElement("a", { onClick: this.clickHandler('Commit title'), href: `${this.props.metadata.repoCommitUrl}/${this.props.commit.commitHash}` }, this.props.commit.subject)),
                    React.createElement(BuildStatus, { buildStatus: this.props.commit.buildStatus }),
                    React.createElement("p", { className: "section-body" },
                        React.createElement("code", null,
                            React.createElement("button", { class: 'commit-hash-link', title: 'Copy commit hash to clipboard', onClick: () => {
                                    this.clickHandler('Commit hash');
                                    atom.clipboard.write(this.props.commit.commitHash);
                                    const notif = atom.notifications.addSuccess('Copied commit hash to your clipboard!', { dismissable: true });
                                    setTimeout(() => notif.dismiss(), 800);
                                } }, this.props.commit.commitHash.substr(0, 6))),
                        " by ",
                        this.props.commit.author,
                        " committed on ",
                        commitedDate),
                    React.createElement("span", { className: "section-status" },
                        React.createElement("span", { title: "Insertions", className: "green" },
                            "+",
                            this.props.commit.insertions,
                            "\u00A0"),
                        React.createElement("span", { title: "Deletions", className: "red" },
                            "-",
                            this.props.commit.deletions,
                            "\u00A0"),
                        React.createElement("span", { title: "Files Changed" },
                            React.createElement("i", { className: "icon icon-diff" }),
                            this.props.commit.filesChanged)))),
            this.props.pullRequests.map((pullRequest) => {
                const actor = pullRequest.author.username || pullRequest.author.name;
                const verb = pullRequest.state === 'Open' ? 'opened' : pullRequest.state.toLowerCase();
                const verbedAt = verb === 'merged' ? pullRequest.mergedAt : pullRequest.createdAt;
                return (React.createElement("div", { className: "section" },
                    React.createElement("div", { className: "section-icon" },
                        React.createElement("div", { className: "icon icon-git-pull-request" })),
                    React.createElement("div", { className: "section-content" },
                        React.createElement("h1", { className: "section-title" },
                            React.createElement("a", { onClick: this.clickHandler('Pull Request title'), href: pullRequest.url }, pullRequest.title)),
                        React.createElement(BuildStatus, { buildStatus: pullRequest.buildStatus }),
                        React.createElement("p", { className: "section-body" },
                            React.createElement("code", null,
                                React.createElement("a", { onClick: this.clickHandler('Pull Request number'), href: pullRequest.url },
                                    pullRequest.source === 'GitLab' ? '!' : '#',
                                    pullRequest.number)),
                            " by ",
                            actor,
                            " ",
                            verb,
                            " on ",
                            moment(verbedAt).format('D MMM')),
                        React.createElement("span", { className: "section-status" },
                            React.createElement("span", { title: "Total Commits" },
                                React.createElement("i", { className: "icon icon-git-commit" }),
                                pullRequest.commitCount)))));
            }),
            this.props.issues.map((issue) => {
                const assignee = issue.assignees && issue.assignees[0] ? issue.assignees[0].username : null;
                if (issue.source === 'GitHub' || issue.source === 'GitLab') {
                    let issueIcon = 'icon icon-issue-opened green';
                    if (issue.state === 'Closed') {
                        issueIcon = 'icon icon-issue-closed red';
                    }
                    return (React.createElement("div", { className: "section" },
                        React.createElement("div", { className: "section-icon" },
                            React.createElement("div", { className: "icon icon-issue-opened" })),
                        React.createElement("div", { className: "section-content" },
                            React.createElement("h1", { className: "section-title" },
                                React.createElement("a", { onClick: this.clickHandler('Issue title'), href: issue.url }, issue.title)),
                            React.createElement("p", { className: "section-body" },
                                React.createElement("i", { className: `icon ${issueIcon}` }),
                                React.createElement("code", null,
                                    React.createElement("a", { onClick: this.clickHandler('Issue number'), href: issue.url },
                                        "#",
                                        issue.key)),
                                " created by ",
                                issue.author.username || issue.author.name,
                                assignee ? ` & assigned to ${assignee}` : ''),
                            React.createElement("span", { className: "section-status" }, issue.state === 'Opened' ? 'open' : issue.state))));
                }
                else if (issue.source === 'Jira') {
                    return (React.createElement("div", { className: "section" },
                        React.createElement("div", { className: "section-icon" },
                            React.createElement("div", { className: "icon stepsize-icon-jira" })),
                        React.createElement("div", { className: "section-content" },
                            React.createElement("h1", { className: "section-title" },
                                React.createElement("a", { onClick: this.clickHandler('Jira ticket title'), href: issue.url }, issue.title)),
                            React.createElement("p", { className: "section-body" },
                                React.createElement("img", { className: "icon", src: issue.type.iconUrl, alt: issue.type.name }),
                                React.createElement("code", null,
                                    React.createElement("a", { onClick: this.clickHandler('Jira ticket key'), href: issue.url }, issue.key)),
                                " created by ",
                                issue.author.username,
                                assignee ? ` & assigned to ${assignee}` : '',
                                React.createElement("span", { className: "section-status", style: {
                                        color: `${issue.state.colour}`
                                    } }, issue.state.name)))));
                }
            }),
            !ConfigManager.get('displayAgeSection') ?
                null :
                React.createElement("div", { className: "section" },
                    React.createElement("div", { className: "section-icon" },
                        React.createElement("div", { className: "icon icon-clock" })),
                    React.createElement("div", { className: "section-content" },
                        React.createElement(AgeSection, { commitDay: this.props.commitDay, firstCommitDate: this.props.firstCommitDate, commit: this.props.commit }))),
            React.createElement(SearchInLayer, { onClick: this.clickLayerSearch.bind(this), onMouseEnter: this.mouseEnterLayerSearch.bind(this), onMouseLeave: this.mouseLeaveLayerSearch.bind(this) })));
    }
}
export default BlameTooltip;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmxhbWVUb29sdGlwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL2NvbXBvbmVudHMvQmxhbWVUb29sdGlwLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7QUFFWixPQUFPLEtBQUssTUFBTSxlQUFlLENBQUM7QUFDbEMsT0FBTyxNQUFNLE1BQU0sUUFBUSxDQUFDO0FBQzVCLE9BQU8sVUFBVSxNQUFNLGNBQWMsQ0FBQztBQUN0QyxPQUFPLFdBQVcsTUFBTSxlQUFlLENBQUM7QUFDeEMsT0FBTyxhQUFhLE1BQU0saUJBQWlCLENBQUM7QUFDNUMsT0FBTyxLQUFLLGFBQWEsTUFBTSxrQkFBa0IsQ0FBQztBQUNsRCxPQUFPLEtBQUssU0FBUyxNQUFNLHVCQUF1QixDQUFDO0FBQ25ELE9BQU8sS0FBSyx1QkFBdUIsTUFBTSxzQ0FBc0MsQ0FBQztBQVloRixrQkFBbUIsU0FBUSxLQUFLLENBQUMsYUFBeUM7SUFFeEUsWUFBWSxHQUFHLEtBQVk7UUFDekIsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUM7UUFDaEIsU0FBUyxDQUFDLEtBQUssQ0FBQyxlQUFlLEVBQUUsRUFBRSxJQUFJLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUNwRCx1QkFBdUIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO0lBQzlDLENBQUM7SUFFRCxnQkFBZ0I7UUFDZCxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDM0MsQ0FBQztJQUVELHFCQUFxQjtRQUNuQixJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQztJQUNuRCxDQUFDO0lBRUQscUJBQXFCO1FBQ25CLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxZQUFZLENBQUMsS0FBSztR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QUksQ0FBQyxJQUFJLENBQUMsR0FDbkQsQ0FDRSxDQUNQLENBQUM7SUFDSixDQUFDO0NBQ0Y7QUFFRCxlQUFlLFlBQVksQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncHJlYWN0LWNvbXBhdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQWdlU2VjdGlvbiBmcm9tICcuL0FnZVNlY3Rpb24nO1xuaW1wb3J0IEJ1aWxkU3RhdHVzIGZyb20gJy4vQnVpbGRTdGF0dXMnO1xuaW1wb3J0IFNlYXJjaEluTGF5ZXIgZnJvbSAnLi9TZWFyY2hJbkxheWVyJztcbmltcG9ydCAqIGFzIENvbmZpZ01hbmFnZXIgZnJvbSAnLi4vQ29uZmlnTWFuYWdlcic7XG5pbXBvcnQgKiBhcyBBbmFseXRpY3MgZnJvbSAnLi4vc3RlcHNpemUvQW5hbHl0aWNzJztcbmltcG9ydCAqIGFzIEludGVncmF0aW9uTm90aWZpY2F0aW9uIGZyb20gJy4uL2ludGVyZmFjZS9JbnRlZ3JhdGlvbk5vdGlmaWNhdGlvbic7XG5cbmludGVyZmFjZSBJQmxhbWVUb29sdGlwUHJvcHMge1xuICBlbWl0dGVyOiBhbnlcbiAgY29tbWl0OiBhbnlcbiAgY29tbWl0RGF5OiBudW1iZXJcbiAgZmlyc3RDb21taXREYXRlOiBEYXRlXG4gIHB1bGxSZXF1ZXN0czogYW55XG4gIGlzc3VlczogQXJyYXk8YW55PlxuICBtZXRhZGF0YTogYW55XG59XG5cbmNsYXNzIEJsYW1lVG9vbHRpcCBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQ8SUJsYW1lVG9vbHRpcFByb3BzLCBvYmplY3Q+IHtcblxuICBjb25zdHJ1Y3RvciguLi5wcm9wczogYW55W10pIHtcbiAgICBzdXBlciguLi5wcm9wcyk7XG4gICAgQW5hbHl0aWNzLnRyYWNrKCdUb29sdGlwIHNob3duJywgeyB0eXBlOiAnYmxhbWUnIH0pO1xuICAgIEludGVncmF0aW9uTm90aWZpY2F0aW9uLnRyYWNrVG9vbHRpcFNob3duKCk7XG4gIH1cblxuICBjbGlja0xheWVyU2VhcmNoKCl7XG4gICAgdGhpcy5wcm9wcy5lbWl0dGVyLmVtaXQoJ2NsaWNrZWRTZWFyY2gnKTtcbiAgfVxuXG4gIG1vdXNlRW50ZXJMYXllclNlYXJjaCgpe1xuICAgIHRoaXMucHJvcHMuZW1pdHRlci5lbWl0KCdtb3VzZUVudGVyTGF5ZXJTZWFyY2gnKTtcbiAgfVxuXG4gIG1vdXNlTGVhdmVMYXllclNlYXJjaCgpe1xuICAgIHRoaXMucHJvcHMuZW1pdHRlci5lbWl0KCdtb3VzZUxlYXZlTGF5ZXJTZWFyY2gnKTtcbiAgfVxuXG4gIGNsaWNrSGFuZGxlcihsYWJlbCl7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIEFuYWx5dGljcy50cmFjayhgQ2xpY2tlZCBsaW5rYCwge2xhYmVsfSk7XG4gICAgfTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjb21taXRlZERhdGUgPSBtb21lbnQodGhpcy5wcm9wcy5jb21taXQuY29tbWl0ZWRBdCkuZm9ybWF0KCdEIE1NTScpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheWVyLXRvb2x0aXBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWljb25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWdpdC1jb21taXRcIiAvPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwic2VjdGlvbi10aXRsZVwiPlxuICAgICAgICAgICAgICA8YSBvbkNsaWNrPXt0aGlzLmNsaWNrSGFuZGxlcignQ29tbWl0IHRpdGxlJyl9IGhyZWY9e2Ake3RoaXMucHJvcHMubWV0YWRhdGEucmVwb0NvbW1pdFVybH0vJHt0aGlzLnByb3BzLmNvbW1pdC5jb21taXRIYXNofWB9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNvbW1pdC5zdWJqZWN0fVxuICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgPEJ1aWxkU3RhdHVzIGJ1aWxkU3RhdHVzPXt0aGlzLnByb3BzLmNvbW1pdC5idWlsZFN0YXR1c30vPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwic2VjdGlvbi1ib2R5XCI+XG4gICAgICAgICAgICAgIDxjb2RlPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGNsYXNzPSdjb21taXQtaGFzaC1saW5rJ1xuICAgICAgICAgICAgICAgICAgdGl0bGU9J0NvcHkgY29tbWl0IGhhc2ggdG8gY2xpcGJvYXJkJ1xuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWNrSGFuZGxlcignQ29tbWl0IGhhc2gnKTtcbiAgICAgICAgICAgICAgICAgICAgYXRvbS5jbGlwYm9hcmQud3JpdGUodGhpcy5wcm9wcy5jb21taXQuY29tbWl0SGFzaCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmID0gYXRvbS5ub3RpZmljYXRpb25zLmFkZFN1Y2Nlc3MoXG4gICAgICAgICAgICAgICAgICAgICAgJ0NvcGllZCBjb21taXQgaGFzaCB0byB5b3VyIGNsaXBib2FyZCEnLFxuICAgICAgICAgICAgICAgICAgICAgIHsgZGlzbWlzc2FibGU6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IG5vdGlmLmRpc21pc3MoKSwgODAwKTtcbiAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY29tbWl0LmNvbW1pdEhhc2guc3Vic3RyKDAsNil9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvY29kZT4gYnkge3RoaXMucHJvcHMuY29tbWl0LmF1dGhvcn0gY29tbWl0dGVkIG9uIHtjb21taXRlZERhdGV9XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXN0YXR1c1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwiSW5zZXJ0aW9uc1wiIGNsYXNzTmFtZT1cImdyZWVuXCI+K3t0aGlzLnByb3BzLmNvbW1pdC5pbnNlcnRpb25zfSZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cIkRlbGV0aW9uc1wiIGNsYXNzTmFtZT1cInJlZFwiPi17dGhpcy5wcm9wcy5jb21taXQuZGVsZXRpb25zfSZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiB0aXRsZT1cIkZpbGVzIENoYW5nZWRcIj48aSBjbGFzc05hbWU9XCJpY29uIGljb24tZGlmZlwiIC8+e3RoaXMucHJvcHMuY29tbWl0LmZpbGVzQ2hhbmdlZH08L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHt0aGlzLnByb3BzLnB1bGxSZXF1ZXN0cy5tYXAoKHB1bGxSZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgY29uc3QgYWN0b3IgPSBwdWxsUmVxdWVzdC5hdXRob3IudXNlcm5hbWUgfHwgcHVsbFJlcXVlc3QuYXV0aG9yLm5hbWU7XG4gICAgICAgICAgY29uc3QgdmVyYiA9IHB1bGxSZXF1ZXN0LnN0YXRlID09PSAnT3BlbicgPyAnb3BlbmVkJyA6IHB1bGxSZXF1ZXN0LnN0YXRlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY29uc3QgdmVyYmVkQXQgPSB2ZXJiID09PSAnbWVyZ2VkJyA/IHB1bGxSZXF1ZXN0Lm1lcmdlZEF0IDogcHVsbFJlcXVlc3QuY3JlYXRlZEF0O1xuICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzZWN0aW9uLWljb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24gaWNvbi1naXQtcHVsbC1yZXF1ZXN0XCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e3RoaXMuY2xpY2tIYW5kbGVyKCdQdWxsIFJlcXVlc3QgdGl0bGUnKX0gaHJlZj17cHVsbFJlcXVlc3QudXJsfT5cbiAgICAgICAgICAgICAgICAgICAge3B1bGxSZXF1ZXN0LnRpdGxlfVxuICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgPEJ1aWxkU3RhdHVzIGJ1aWxkU3RhdHVzPXtwdWxsUmVxdWVzdC5idWlsZFN0YXR1c30vPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInNlY3Rpb24tYm9keVwiPlxuICAgICAgICAgICAgICAgICAgPGNvZGU+XG4gICAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e3RoaXMuY2xpY2tIYW5kbGVyKCdQdWxsIFJlcXVlc3QgbnVtYmVyJyl9IGhyZWY9e3B1bGxSZXF1ZXN0LnVybH0+XG4gICAgICAgICAgICAgICAgICAgICAge3B1bGxSZXF1ZXN0LnNvdXJjZSA9PT0gJ0dpdExhYicgPyAnIScgOiAnIyd9e3B1bGxSZXF1ZXN0Lm51bWJlcn1cbiAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgPC9jb2RlPiBieSB7YWN0b3J9IHt2ZXJifSBvbiB7bW9tZW50KHZlcmJlZEF0KS5mb3JtYXQoJ0QgTU1NJyl9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInNlY3Rpb24tc3RhdHVzXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwiVG90YWwgQ29tbWl0c1wiPjxpIGNsYXNzTmFtZT1cImljb24gaWNvbi1naXQtY29tbWl0XCIgLz57cHVsbFJlcXVlc3QuY29tbWl0Q291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIClcbiAgICAgICAgfSl9XG4gICAgICAgIHt0aGlzLnByb3BzLmlzc3Vlcy5tYXAoKGlzc3VlKSA9PiB7XG4gICAgICAgICAgY29uc3QgYXNzaWduZWUgPSBpc3N1ZS5hc3NpZ25lZXMgJiYgaXNzdWUuYXNzaWduZWVzWzBdID8gaXNzdWUuYXNzaWduZWVzWzBdLnVzZXJuYW1lIDogbnVsbDtcbiAgICAgICAgICBpZiAoaXNzdWUuc291cmNlID09PSAnR2l0SHViJyB8fCBpc3N1ZS5zb3VyY2UgPT09ICdHaXRMYWInKSB7XG4gICAgICAgICAgICBsZXQgaXNzdWVJY29uID0gJ2ljb24gaWNvbi1pc3N1ZS1vcGVuZWQgZ3JlZW4nO1xuICAgICAgICAgICAgaWYgKGlzc3VlLnN0YXRlID09PSAnQ2xvc2VkJykge1xuICAgICAgICAgICAgICBpc3N1ZUljb24gPSAnaWNvbiBpY29uLWlzc3VlLWNsb3NlZCByZWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taWNvblwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpY29uIGljb24taXNzdWUtb3BlbmVkXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17dGhpcy5jbGlja0hhbmRsZXIoJ0lzc3VlIHRpdGxlJyl9IGhyZWY9e2lzc3VlLnVybH0+e2lzc3VlLnRpdGxlfTwvYT5cbiAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzZWN0aW9uLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPXtgaWNvbiAke2lzc3VlSWNvbn1gfSAvPlxuICAgICAgICAgICAgICAgICAgICA8Y29kZT5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXt0aGlzLmNsaWNrSGFuZGxlcignSXNzdWUgbnVtYmVyJyl9IGhyZWY9e2lzc3VlLnVybH0+I3tpc3N1ZS5rZXl9PC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2NvZGU+IGNyZWF0ZWQgYnkge2lzc3VlLmF1dGhvci51c2VybmFtZSB8fCBpc3N1ZS5hdXRob3IubmFtZX17YXNzaWduZWUgPyBgICYgYXNzaWduZWQgdG8gJHthc3NpZ25lZX1gIDogJyd9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXN0YXR1c1wiPntpc3N1ZS5zdGF0ZSA9PT0gJ09wZW5lZCcgPyAnb3BlbicgOiBpc3N1ZS5zdGF0ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNzdWUuc291cmNlID09PSAnSmlyYScpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1pY29uXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24gc3RlcHNpemUtaWNvbi1qaXJhXCIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInNlY3Rpb24tdGl0bGVcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgb25DbGljaz17dGhpcy5jbGlja0hhbmRsZXIoJ0ppcmEgdGlja2V0IHRpdGxlJyl9IGhyZWY9e2lzc3VlLnVybH0+e2lzc3VlLnRpdGxlfTwvYT5cbiAgICAgICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzZWN0aW9uLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzc05hbWU9XCJpY29uXCIgc3JjPXtpc3N1ZS50eXBlLmljb25Vcmx9IGFsdD17aXNzdWUudHlwZS5uYW1lfS8+XG4gICAgICAgICAgICAgICAgICAgIDxjb2RlPlxuICAgICAgICAgICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e3RoaXMuY2xpY2tIYW5kbGVyKCdKaXJhIHRpY2tldCBrZXknKX0gaHJlZj17aXNzdWUudXJsfT57aXNzdWUua2V5fTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9jb2RlPiBjcmVhdGVkIGJ5IHtpc3N1ZS5hdXRob3IudXNlcm5hbWV9e2Fzc2lnbmVlID8gYCAmIGFzc2lnbmVkIHRvICR7YXNzaWduZWV9YCA6ICcnfVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJzZWN0aW9uLXN0YXR1c1wiIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGAke2lzc3VlLnN0YXRlLmNvbG91cn1gXG4gICAgICAgICAgICAgICAgICAgIH19Pntpc3N1ZS5zdGF0ZS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICB9KX1cbiAgICAgICAge1xuICAgICAgICAgICFDb25maWdNYW5hZ2VyLmdldCgnZGlzcGxheUFnZVNlY3Rpb24nKSA/XG4gICAgICAgICAgICBudWxsIDpcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvblwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNlY3Rpb24taWNvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaWNvbiBpY29uLWNsb2NrXCIgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic2VjdGlvbi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPEFnZVNlY3Rpb25cbiAgICAgICAgICAgICAgICAgIGNvbW1pdERheT17dGhpcy5wcm9wcy5jb21taXREYXl9XG4gICAgICAgICAgICAgICAgICBmaXJzdENvbW1pdERhdGU9e3RoaXMucHJvcHMuZmlyc3RDb21taXREYXRlfVxuICAgICAgICAgICAgICAgICAgY29tbWl0PXt0aGlzLnByb3BzLmNvbW1pdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICB9XG4gICAgICAgIDxTZWFyY2hJbkxheWVyXG4gICAgICAgICAgb25DbGljaz17dGhpcy5jbGlja0xheWVyU2VhcmNoLmJpbmQodGhpcyl9XG4gICAgICAgICAgb25Nb3VzZUVudGVyPXt0aGlzLm1vdXNlRW50ZXJMYXllclNlYXJjaC5iaW5kKHRoaXMpfVxuICAgICAgICAgIG9uTW91c2VMZWF2ZT17dGhpcy5tb3VzZUxlYXZlTGF5ZXJTZWFyY2guYmluZCh0aGlzKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmxhbWVUb29sdGlwXG4iXX0=